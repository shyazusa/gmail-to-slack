<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Gmail-to-slack by shyazusa</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Gmail-to-slack</h1>
      <h2 class="project-tagline">Gmailの未読メールの本文をSlackに通知して既読処理してくれるGoogle Apps Script</h2>
      <a href="https://github.com/shyazusa/gmail-to-slack" class="btn">View on GitHub</a>
      <a href="https://github.com/shyazusa/gmail-to-slack/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/shyazusa/gmail-to-slack/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="gmail-to-slack" class="anchor" href="#gmail-to-slack" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>gmail-to-slack</h1>

<p>Gmailの未読メールの本文をSlackに通知して既読処理してくれるGoogle Apps Scriptです．  </p>

<h2>
<a id="使用手順" class="anchor" href="#%E4%BD%BF%E7%94%A8%E6%89%8B%E9%A0%86" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>使用手順</h2>

<ol>
<li>Slackのincoming webhookをオンにして，URLコピるなりしてメモる</li>
<li>
<p><code>コード.gs</code>内でchannel,urlの設定をする<br>
<code>#general</code>に流れてくれれば良いのであれば設定変える必要はないけれど，自分は<code>#mail</code>というチャンネルに流したかったので以下のように設定．</p>

<div class="highlight highlight-source-diff"><pre><span class="pl-md">-   channel = '#general' // your slack channel</span>
<span class="pl-mi1">+   channel = '#mail' // your slack channel</span>
<span class="pl-md">-   url = 'https://hooks.slack.com/services/hoge/piyo'; // your slack incoming webhook url</span>
<span class="pl-mi1">+   url = 'https://hooks.slack.com/services/AAABBBCCC/AAABBBCCC/AAABBBCCCDDDEEEFFFGGGHHH'; // your slack incoming webhook url</span></pre></div>
</li>
<li>
<p>もしも自分に@したい場合は<code>slack()</code>内も変更を加える<br>
<code>'text' : message,</code>をコメントアウトして，<code>// 'text' : '&lt;@shy_azusa&gt;: ' + message,</code>のコメントアウトを解除する．<br>
<code>@shy_azusa</code>のところも，通知したい人のslack nameに変更してね．</p>

<div class="highlight highlight-source-diff"><pre><span class="pl-md">-       'text' : message,</span>
<span class="pl-mi1">+       // 'text' : message,</span>
        // @ is ↓ change your slack account, remove comment out, and ↑ comment out
<span class="pl-md">-       // 'text' : '&lt;@shy_azusa&gt;: ' + message,</span>
<span class="pl-mi1">+       'text' : '&lt;@shy_azusa&gt;: ' + message,</span></pre></div>
</li>
<li><p>Googleスプレッドシートを新規作成</p></li>
<li>ツール → スクリプトエディタ</li>
<li>コード記述欄に出来上がった<code>コード.gs</code>をペースト，保存</li>
<li>Google Apps Scriptで定期実行を設定</li>
</ol>

<p>以上デス．</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/shyazusa/gmail-to-slack">Gmail-to-slack</a> is maintained by <a href="https://github.com/shyazusa">shyazusa</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
